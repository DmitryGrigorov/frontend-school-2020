<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Task 3</title>
</head>
<body>
  <ul id="list">
    <li>item 1</li>
    <li>item 2</li>
    <li>item 3</li>
    <li>item 4</li>
    <li>item 5</li>
    <li>item 6</li>
    <li>item 7</li>
  </ul>

  <button id="add-first-item">Add first item</button>
  <button id="remove-first-item">Remove first item</button>
  <button id="add-last-item">Add last item</button>
  <button id="remove-last-item">Remove last item</button>

  <!-- 
    Реализовать функционал для кнопок:
    1. Кнопка "Add first item" должна добавлять новый item в начало списка (текст по желанию) 
    2. Кнопка "Remove first item" должна удалять элемент в начале списка
    3. Кнопка "Add last item" должна добавлять новый item в конец списка (текст по желанию) 
    4. Кнопка "Remove last item" должна удалять элемент в конце списка
  -->
  <script>
    let addFirstButton    = document.querySelector('#add-first-item');
    let removeFirstButton = document.querySelector('#remove-first-item');
    let addLastButton     = document.querySelector('#add-last-item');
    let removeLastButton  = document.querySelector('#remove-last-item');

    let list              = document.querySelector('#list');

    addFirstButton.addEventListener('click', () => addListItems('first'));
    addLastButton.addEventListener('click', () => addListItems('last'));

    removeFirstButton.addEventListener('click', () => removeListItems('first'));
    removeLastButton.addEventListener('click', () => removeListItems('last'));

    //функция удаления элементов списка
    function removeListItems(type = 'first') {
      let items = list.getElementsByTagName('li');
      switch(type){
        case 'last':
          list.removeChild(items[items.length-1]);
          break;
        case 'first':
        default:
          list.removeChild(items[0]);
          break;
      }
    }

    //функция добавления элементов списка
    function addListItems(type = 'first') {
      let item = document.createElement('li'); 
      item.textContent = 'item '+ getListItemTextIndex(type);

      switch(type){
        case 'last':
          list.append(item);
          break;
        case 'first':
        default:
          list.prepend(item);
          break;
      }
    }

    //вычисляем индекс нового элемента для подписи 
    function getListItemTextIndex(type = 'first') {
      let items = list.getElementsByTagName('li');

      let index = (type == 'first') ? 0 : items.length - 1;

      let text = items[index].textContent.split(' ');

      let newIndex = (type == 'first') ? --text[1] : ++text[1];

      return newIndex;
    }
  </script>

</body>
</html>