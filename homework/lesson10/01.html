<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lesson 10: task 1</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
<div id="exercise_1" class="exercise">
    <div class="conditions">
        При помощи 1 обработчика сделайте (скрытие/раскрытие) пунктов списка
        при сворачивании списка, знак "плюс" должен меняться на "минус"
    </div>
    <div class="solution">
        <div id="toggle-list" class="toggle-list">
            <ul class="toggle-list_list">
                <div class="toggle-list_toggler">
                    <div class="toggle-list_toggler_icon">+</div>
                    <div class="toggle-list_toggler_label">Страны</div>
                </div>
                <li class="toggle-list_item">
                    <ul class="toggle-list_list">
                        <div class="toggle-list_toggler">
                            <div class="toggle-list_toggler_icon">+</div>
                            <div class="toggle-list_toggler_label">Россия</div>
                        </div>
                        <li class="toggle-list_item">Москва</li>
                        <li class="toggle-list_item">Питер</li>
                        <li class="toggle-list_item">Омск</li>
                    </ul>
                </li>
                <li class="toggle-list_item">
                    <ul class="toggle-list_list">
                        <div class="toggle-list_toggler">
                            <div class="toggle-list_toggler_icon">+</div>
                            <div class="toggle-list_toggler_label">Америка</div>
                        </div>
                        <li class="toggle-list_item">Нью-Йорк</li>
                        <li class="toggle-list_item">Лос-Анджелес</li>
                        <li class="toggle-list_item">Чикаго</li>
                    </ul>
                </li>
                <li class="toggle-list_item">
                    <ul class="toggle-list_list">
                        <div class="toggle-list_toggler">
                            <div class="toggle-list_toggler_icon">+</div>
                            <div class="toggle-list_toggler_label">Китай</div>
                        </div>
                        <li class="toggle-list_item">Шанхай</li>
                        <li class="toggle-list_item">Пекин</li>
                        <li class="toggle-list_item">Тяньцзинь</li>
                    </ul>
                </li>
            </ul>
        </div>
        <script>
            const toggleListTitles = document.querySelectorAll('.toggle-list_toggler');
            toggleListTitles.forEach(title => title.addEventListener('click', toggleList));

            function toggleList() {
                const сhildren = this.closest('ul').children;
                Array.prototype.map.call(сhildren, child => {
                    child.tagName === "LI" ? child.hidden = !child.hidden : this.firstElementChild.innerHTML = this.firstElementChild.innerHTML === "+" ? "-" : "+";
                });
            }
        </script>
    </div>
</div>
</body>
</html>